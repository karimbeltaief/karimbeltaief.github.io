function homeySetCookie(e,a,t){var n=new Date;n.setTime(n.getTime()+24*t*60*60*1e3);var r="expires="+n.toUTCString();document.cookie=e+"="+a+";"+r+";path=/"}function homeyGetCookie(e){for(var a=e+"=",t=decodeURIComponent(document.cookie).split(";"),n=0;n<t.length;n++){for(var r=t[n];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(a))return r.substring(a.length,r.length)}return""}function homey_init_add_favorite(n,r,s){jQuery(".add_fav").on("click",function(e){e.preventDefault();var a=jQuery(this),t=jQuery(this).attr("data-listid");return add_to_favorite(n,t,a,r,s),!1})}function homey_init_remove_favorite(t,n,r){jQuery(".remove_fav").on("click",function(){var e=jQuery(this),a=jQuery(this).attr("data-listid");add_to_favorite(t,a,e,n,r);e.parents("tr").remove()})}function add_to_favorite(ajaxurl,listID,curnt,userID,is_singular_listing){0===parseInt(userID,10)||null==userID?jQuery("#modal-login").modal("show"):jQuery.ajax({type:"post",url:ajaxurl,dataType:"json",data:{action:"homey_add_to_favorite",listing_id:listID},beforeSend:function(){curnt.append('<i class="fa fa-spinner fa-pulse fa-fw"></i>')},success:function(e){e.added?(curnt.children("i").remove(),curnt.text(e.response),"yes"==is_singular_listing&&curnt.prepend('<i class="fa fa-heart" aria-hidden="true"></i> ')):(curnt.children("i").remove(),curnt.text(e.response),"yes"==is_singular_listing&&curnt.prepend('<i class="fa fa-heart-o" aria-hidden="true"></i> '))},complete:function(){},error:function(xhr,status,error){var err=eval("("+xhr.responseText+")");console.log(err.Message)}})}function add_to_compare(s,i,o,l,e,c){if(jQuery("a.compare-btn").attr("href",s+"?ids="+homeyGetCookie("homey_compare_listings")),0<(e=homeyGetCookie("homey_compare_listings")).length&&jQuery(".compare-property-label").fadeIn(1e3),e&&e.length){if((e=e.split(",")).length){for(var a=0;a<e.length;a++)jQuery('.homey_compare[data-listing_id="'+e[a]+'"]').text(o);jQuery(".compare-property-label").find(".compare-count").html(e.length)}}else e=[];jQuery(".homey_compare").on("click",function(e){e.preventDefault();var a=homeyGetCookie("homey_compare_listings");a=a&&a.length?a.split(","):[];var t=jQuery(this).data("listing_id"),n=a.indexOf(t.toString()),r=jQuery(this).parents(".item-wrap").find(".item-media-thumb img").attr("src");return-1==n?a.length>=c?alert(l):(jQuery(".compare-wrap").append('<div class="compare-item remove-'+t+'"><a href="" class="remove-compare remove-icon" data-listing_id="'+t+'"><i class="fa fa-trash-o" aria-hidden="true"></i></a><img class="img-responsive" src="'+r+'" width="450" height="300" alt="Thumb"></div>'),jQuery(this).text(o),a.push(t.toString()),homeySetCookie("homey_compare_listings",a.join(","),30),jQuery(".compare-property-label").find(".compare-count").html(a.length),jQuery("a.compare-btn").attr("href",s+"?ids="+homeyGetCookie("homey_compare_listings")),jQuery(".compare-property-label").fadeIn(1e3),jQuery(this).toggleClass("active"),jQuery(".compare-property-active").addClass("compare-property-active-push-toleft"),jQuery("#compare-property-panel").addClass("compare-property-panel-open"),remove_from_compare(a,i,o)):(jQuery("div.remove-"+t).remove(),jQuery(this).text(i),a.splice(n,1),homeySetCookie("homey_compare_listings",a.join(","),30),jQuery(".compare-property-label").find(".compare-count").html(a.length),jQuery("a.compare-btn").attr("href",s+"?ids="+homeyGetCookie("homey_compare_listings")),0<a.length?(jQuery(".compare-property-label").fadeIn(1e3),jQuery(this).toggleClass("active"),jQuery(".compare-property-active").addClass("compare-property-active-push-toleft"),jQuery("#compare-property-panel").addClass("compare-property-panel-open")):jQuery(".compare-property-label").fadeOut(1e3)),!1})}function remove_from_compare(r,s,i){jQuery(".remove-compare").on("click",function(e){if(e.preventDefault(),"object"==typeof r&&(r=r.toString()),r&&r.length){if((r=r.split(",")).length){for(var a=0;a<r.length;a++)jQuery('.homey_compare[data-listing_id="'+r[a]+'"]').text(i);jQuery(".compare-property-label").find(".compare-count").html(r.length)}}else r=[];var t=jQuery(this).data("listing_id"),n=r.indexOf(t.toString());r.splice(n,1),homeySetCookie("homey_compare_listings",r.join(","),30),jQuery(".compare-property-label").find(".compare-count").html(r.length),jQuery(".compare-"+t).text(s),jQuery(this).parents(".compare-item").remove()})}!function(o){"use strict";var n,r,s=1,t=0,e=0,i=0,l=0,a=HOMEY_ajax_vars.homey_is_dashboard,c=HOMEY_ajax_vars.search_position,d=HOMEY_ajax_vars.geo_country_limit,h=HOMEY_ajax_vars.geocomplete_country,p=HOMEY_ajax_vars.replytocom,m=HOMEY_ajax_vars.compare_url,u=HOMEY_ajax_vars.add_compare,v=HOMEY_ajax_vars.remove_compare,g=HOMEY_ajax_vars.compare_limit,f=HOMEY_ajax_vars.homey_is_transparent,y=HOMEY_ajax_vars.homey_tansparent,_=HOMEY_ajax_vars.homey_is_top_header,b=HOMEY_ajax_vars.simple_logo,w=HOMEY_ajax_vars.mobile_logo,C=HOMEY_ajax_vars.retina_logo,k=HOMEY_ajax_vars.custom_logo_splash,j=HOMEY_ajax_vars.retina_logo_splash,x=HOMEY_ajax_vars.retina_logo_mobile,H=HOMEY_ajax_vars.custom_logo_mobile_splash,Q=HOMEY_ajax_vars.retina_logo_mobile_splash,I=2,O=o(window),M=(o("body").innerWidth(),o(".nav-area")),S=o(".header-nav"),T=(o(".main-content-area"),o("#section-body")),D=o("#homey-main-search"),E=D.innerHeight(),L=o("#homey_nav_sticky"),A=L.innerHeight(),Y=o(".dashboard-page-title"),B=o(".footer-area"),U=(o(".user-dashboard-left"),o(".top-banner-wrap ").innerHeight()),z=M.innerHeight(),G=(M.outerHeight(),Y.innerHeight()),P=(B.innerHeight(),o(".header-search").innerHeight(),o(".listing-nav").innerHeight()),R=null,F=HOMEY_ajax_vars.homey_is_rtl;F="yes"==F,null==P&&(P=0);var W=z,$=20;"under_banner"==c&&(W=z+U,$=0);var N=!1;/Android|webOS|iPhone|iPad|iPod|tablet|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(N=!0),console.log(N);var q=!1;/Android|Opera Mini/i.test(navigator.userAgent)&&(q=!0),console.log(q);var V=L.data("sticky"),J=D.data("sticky");1===V&&(t=A),1===J&&(t=E),1===V&&1===J&&(t=A+E);var K={establishment:"long_name",street_number:"short_name",locality:"long_name",administrative_area_level_1:"long_name",country:"long_name",postal_code:"short_name",postal_code_prefix:"short_name",neighborhood:"long_name",sublocality_level_1:"long_name"};o(".mobile-main-nav").on("click",function(){o("#user-nav").removeClass("in")}),o(".user-mobile-nav").on("click",function(){o("#mobile-nav").removeClass("in")}),o(".homey-matchHeight-needed .homey-matchHeight").length&&(o(".homey-matchHeight").matchHeight({remove:!0}),o(".homey-matchHeight").matchHeight()),0<o(".comments-form").length&&(o(".comments-form .comment-respond").removeAttr("id","respond"),""!=p&&o("html, body").animate({scrollTop:o("#comments-form").offset().top-320},1e3)),o('[data-toggle="popover"]').popover({trigger:"hover",html:!0}),o('[data-toggle="tooltip"]').tooltip();var X=o(".selectpicker");0<X.length&&X.selectpicker({dropupAuto:!1});var Z,ee;/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor);function ae(){if(991<o(window).width()){var e=o(".container"),a=o(".header-type-1,.header-type-1"),t=e.innerWidth(),n=O.width(),r=e.offset();o(".navi ul li").hasClass("homey-megamenu")&&o(".navi ul .homey-megamenu").each(function(){o("> .sub-menu",this).wrap("<div class='homey-megamenu-wrap'></div>");var e=o(this).offset();0<a.children(".container").length?o("> .homey-megamenu-wrap",this).css({width:t,left:-(e.left-r.left)}):o("> .homey-megamenu-wrap",this).css({width:n,left:-e.left})})}}if(o(".navi ul li").each(function(){o(this).has("ul").not(".homey-megamenu li").addClass("has-child")}),o(".navi ul .has-child").on({mouseenter:function(){o(this).addClass("active")},mouseleave:function(){o(this).removeClass("active")}}),ae(),O.on("resize",function(){ae()}),O.bind("load",function(){ae()}),o(".account-loggedin").on({mouseenter:function(){o(this).addClass("active")},mouseleave:function(){o(this).removeClass("active")}}),Z=".main-nav-dropdown",ee=o(".main-nav").html(),o(Z).html(ee),o(Z+" ul li").each(function(){o(this).has("ul").addClass("has-child")}),o(Z+" ul .has-child").append('<span class="expand-me"></span>'),o(Z+" .expand-me").on("click",function(){var e=o(this).parent("li");1==e.hasClass("active")?(e.removeClass("active"),e.children("ul").slideUp()):(e.addClass("active"),e.children("ul").slideDown())}),o(".nav-trigger").on("click",function(){o(this).hasClass("mobile-open")?o(this).removeClass("mobile-open"):o(this).addClass("mobile-open")}),matchMedia){var te=window.matchMedia("(max-width: 991px)");te.addListener(ne),ne(te)}function ne(e){e.matches?(o(".dashboard-page-title").css({top:60}),o(".user-dashboard-right").css({"padding-top":131})):(o(".dashboard-sidebar").css({top:z+G+34}),o(".user-dashboard-left").css({top:z}),o(".user-dashboard-right").css({"padding-top":z+G+4}),o(".dashboard-page-title").css({top:z}))}function re(){if(!(991<O.width()))return!1;var n=o(".dashboard-view-block"),r=o(".dashboard-content-area");if(0<n.length){var s=n.height(),i=n.offset().top;i=i-dashboadr_header_height-z-30}r.scroll(function(){if(!(991<O.width()))return!1;if(0<n.length){var e=r.scrollTop();if(i<e){n.css("top",e-i);var a=n.offset().top+s;if(sticky_content.offset().top+sticky_content.height()<a){var t=sticky_content.height()-s;n.css("top",t)}}else n.css("top","0")}}),O.resize(function(){0<n.length&&(s=n.height())})}re(),O.on("resize",function(){re()}),2==window.devicePixelRatio&&y&&(""!=j&&(k=j),""!=C&&(b=C),""!=x&&(w=x),""!=Q&&(H=Q)),N||1==a||(1===V&&1===J?o(window).scroll(function(){var e=o(window).scrollTop(),a=S.outerHeight(),t=o("#wpadminbar").height();"null"==t&&(t=0),z<=e?(M.addClass("sticky-nav-area"),M.css("top",t),z+20<=e&&(M.addClass("homey-in-view"),!_&&f||T.css("padding-top",a))):(M.removeClass("sticky-nav-area"),M.removeAttr("style"),e<=z+20&&M.removeClass("homey-in-view"),!_&&f||T.css("padding-top",0))}):1===V?o(window).scroll(function(){var e=o(window).scrollTop(),a=o("#wpadminbar").height(),t=S.outerHeight();0!==V&&(y&&(o(".homey_logo img").attr("src",b),o(".mobile-logo img").attr("src",w)),"null"==a&&(a=0),z<e?(S.addClass("sticky-nav-area"),S.css("top",a),y&&M.removeClass("transparent-header"),z+20<=e&&(S.addClass("homey-in-view"),!_&&f||T.css("padding-top",t))):(S.removeClass("sticky-nav-area"),S.removeAttr("style"),y&&(M.addClass("transparent-header"),he(),o(".homey_logo img").attr("src",k),o(".mobile-logo  img").attr("src",H)),e<=z+20&&S.removeClass("homey-in-view"),!_&&f||T.css("padding-top",0)))}):1===J&&o(window).scroll(function(){var e=o(window).scrollTop(),a=o("#wpadminbar").height(),t=o(".main-search").outerHeight();0!==J&&("null"==a&&(a=0),W<=e?(D.addClass("sticky-search-area"),D.css("top",a),W+$<=e&&(D.addClass("homey-in-view"),!_&&f||T.css("padding-top",t))):(D.removeClass("sticky-search-area"),D.removeAttr("style"),e<=W+20&&D.removeClass("homey-in-view"),!_&&f||T.css("padding-top",0)))})),o(document).ready(function(){null!=(e=o("#wpadminbar").innerHeight())&&(t+=e),o(window).width()<992?o(".homey-sticky-map").theiaStickySidebar({additionalMarginTop:t,updateSidebarHeight:!1}):o(".homey-sticky-map").theiaStickySidebar({additionalMarginTop:t+30,updateSidebarHeight:!1}),o(".homey_sticky").theiaStickySidebar({additionalMarginTop:t+P,minWidth:768,updateSidebarHeight:!1})}),o(document).scroll(function(){var e=o(this).scrollTop();o(".listing-nav").css("top",t),200<e?o(".listing-nav").fadeIn(250):o(".listing-nav").fadeOut(0)}),o('a[href*="#"]').not('[href="#"]').not('[href="#0"]').on("click",function(e){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var a=o(this.hash);(a=a.length?a:o("[name="+this.hash.slice(1)+"]")).length&&(e.preventDefault(),o("html, body").animate({scrollTop:a.offset().top-(t+P)},1e3,"easeOutExpo",function(){}))}}),o('a[data-toggle="tab"]').on("shown.bs.tab",function(e){var a=e;a.target,a.relatedTarget}),o(document).ready(function(){o(".swipebox").swipebox({useCSS:!0,useSVG:!0,initialIndexOnArray:0,hideCloseButtonOnMobile:!1,removeBarsOnMobile:!1,hideBarsDelay:3e3})}),o(document).ready(function(){o(".listing-slider").slick({rtl:F,lazyLoad:"ondemand",slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!1,asNavFor:".listing-slider-nav"}),o(".listing-slider-nav").slick({rtl:F,lazyLoad:"ondemand",slidesToShow:6,slidesToScroll:1,asNavFor:".listing-slider",dots:!1,focusOnSelect:!0,variableWidth:!0,arrows:!1})}),o(document).ready(function(){o(".listing-slider-variable-width").slick({rtl:F,lazyLoad:"ondemand",infinite:!0,speed:300,slidesToShow:1,centerMode:!0,variableWidth:!0,arrows:!0,adaptiveHeight:!0})}),o(document).ready(function(){o(".header-slider").slick({rtl:F,lazyLoad:"ondemand",infinite:!0,speed:300,slidesToShow:1,arrows:!0,adaptiveHeight:!0})});var se=o(".extended-menu-btn");o(".header-extended-menu");se.on("click",function(){1==o(this).hasClass("active")?(o(this).parents(".header-wrap").find(".header-extended-menu").slideUp().removeClass("menu-open"),o(this).removeClass("active")):(o(this).addClass("active"),o(this).parents(".header-wrap").find(".header-extended-menu").slideDown().addClass("menu-open"))});var ie=o(".search-filter-btn");o(".search-filter");ie.on("click",function(){1==o(this).hasClass("active")?(o(this).parents("form").find(".search-filter").removeClass("search-filter-open"),o(this).removeClass("active")):(o(this).addClass("active"),o(this).parents("form").find(".search-filter").addClass("search-filter-open"))}),o(".search-reset-btn").on("click",function(e){e.preventDefault();var a=o(this).parents(".search-filter-wrap");o(this).closest("form").find("input[type=text], textarea").val(""),o(this).parents(".half-map-wrap").find("input[type=text], textarea").val(""),o(".search-destination").find("input[type=hidden]").val(""),a.find("select").removeAttr("selected"),a.find("select").selectpicker("val",""),a.find("select").selectpicker("refresh"),a.find("input[type=checkbox]").removeAttr("checked")});var oe,le,ce=o(".search-filter-mobile-btn");o(".search-filter");function de(){var e=o(window).innerHeight()-z;767<=o(window).width()?o(".half-map-left-wrap, .half-map-right-wrap").css("height",e):(o(".map-on-right .half-map-right-wrap").css("height",e),o(".map-on-right .half-map-left-wrap").css("height","auto"),o(".map-on-left .half-map-right-wrap").css("height",e),o(".map-on-left .half-map-left-wrap").css("height","auto"))}function he(){var e=o(".transparent-header .header-nav.hidden-sm").innerHeight(),a=o(".transparent-header .header-nav.hidden-md").innerHeight();991<=o(window).width()?o(".transparent-header .header-nav.hidden-sm").css("margin-bottom",-e):o(".transparent-header .header-nav.hidden-md").css("margin-bottom",-a)}function pe(){var e=o(window).innerHeight(),a=o(".header-nav.hidden-sm").innerHeight(),t=o(".header-nav.hidden-md").innerHeight();767<=o(window).width()?(o(".top-banner-wrap-fullscreen").css("height",e-a),o(".transparent-header + .top-banner-wrap-fullscreen").css("height",e),o(".top-banner-wrap-fullscreen .slick-list, .top-banner-wrap-fullscreen .header-slider-item").css("height",e-a)):(o(".top-banner-wrap-fullscreen").css("height",e-t),o(".transparent-header + .top-banner-wrap-fullscreen").css("height",e),o(".top-banner-wrap-fullscreen .slick-list, .top-banner-wrap-fullscreen .header-slider-item").css("height",e-t)),o(".transparent-header + .top-banner-wrap-fullscreen .slick-list, .transparent-header + .top-banner-wrap-fullscreen .header-slider-item").css("height",e)}function me(a,e,t,n){o("."+e).on("click",function(e){e.preventDefault(),n?(t?s<11?s+=1:s=12:1<s?s-=1:s=1,o("."+a).hide(),o("."+a).each(function(){parseInt(o(this).attr("data-month"),10)===s&&o(this).fadeIn()})):(t?I<10?I+=1:I=11:3<I?I-=1:I=2,t?(o("."+a).hide(),o("."+a).each(function(){var e=parseInt(o(this).attr("data-month"),10);e!==I&&e!==I+1||o(this).fadeIn()})):(o("."+a).hide(),o("."+a).each(function(){var e=parseInt(o(this).attr("data-month"),10);e!==I&&e!==I-1||o(this).fadeIn()}))),n?(12==s?o(this).addClass("disabled"):o(".homey-next-month, .listing-cal-next, .search-cal-next").removeClass("disabled"),1==s?o(this).addClass("disabled"):o(".homey-prev-month, .listing-cal-prev, .search-cal-prev").removeClass("disabled")):(11==I?o(this).addClass("disabled"):o(".homey-next-month, .listing-cal-next, .search-cal-next").removeClass("disabled"),2==I?o(this).addClass("disabled"):o(".homey-prev-month, .listing-cal-prev, .search-cal-prev").removeClass("disabled"))})}function ue(){var e=o(".availability-section .search-calendar li").innerWidth();o(".availability-section .search-calendar li").css("height",e),o(".availability-section .search-calendar li").css("line-height",e+"px")}function ve(e){return new Date(e.replace(/^(\d{2}\-)(\d{2}\-)(\d{4})$/,"$2$1$3")).getTime()}function ge(a,t){o(".main-search-calendar-wrap ul li").removeClass("in-between").filter(function(){var e=o(this).data("timestamp");return a<e&&e<t}).addClass("in-between")}ce.on("touchstart",function(){1==o(this).hasClass("active")?(o(this).parents(".search-button").find(".search-filter").removeClass("search-filter-open"),o(this).removeClass("active")):(o(this).addClass("active"),o(this).parents(".search-button").find(".search-filter").addClass("search-filter-open"))}),oe=o(".input-search"),le=o(".search-auto-complete"),oe.on("keyup",function(){var e=o(this),a=e.val(),t=e.closest("form").find(le);3<a.length?le.is(":hidden")&&t.fadeIn(0):t.fadeOut(0)}),o(document).mouseup(function(e){var a=o(".input-search,.search-auto-complete");a.is(e.target)||0!==a.has(e.target).length||le.fadeOut(0)}),de(),O.on("resize",function(){de()}),he(),O.on("resize",function(){he()}),pe(),O.on("resize",function(){pe()}),o(document).ready(function(){o(".parallax").parallaxBackground({parallaxBgPosition:"center center",parallaxBgRepeat:"no-repeat",parallaxBgSize:"cover",parallaxSpeed:"0.25"})}),o(document).ready(function(){o("#trigger-overlay-booking-form, .overlay-booking-module-close").on("click",function(){o("#overlay-booking-module").toggleClass("open")})}),o(document).ready(function(){o(".main-search .search-banner-mobile, .search-banner-mobile, .half-map-search .search-banner-mobile, .overlay-search-module-close").on("click",function(){o("#overlay-search-advanced-module").toggleClass("open")})}),o(document).ready(function(){o(".side-nav-trigger").on("click",function(){o(this).toggleClass("active"),o(".side-nav-active").toggleClass("side-nav-active-push-toright"),o("#side-nav-panel").toggleClass("side-nav-panel-open")})}),o(document).ready(function(){o(".compare-property-label").on("click",function(){o(this).toggleClass("active"),o(".compare-property-active").addClass("compare-property-active-push-toleft"),o("#compare-property-panel").addClass("compare-property-panel-open")}),o(".close-compare-panel").on("click",function(){o(this).toggleClass("active"),o(".compare-property-active").removeClass("compare-property-active-push-toleft"),o("#compare-property-panel").removeClass("compare-property-panel-open")});var e=homeyGetCookie("homey_compare_listings");add_to_compare(m,u,v,g,e,4),remove_from_compare(e,u,v)}),0<o("#commentform").length&&o("#commentform #submit").addClass("btn btn-primary"),0<o("ul.comments-list").length&&o("ul.comments-list ul").addClass("list-unstyled"),0<o(".input_date").length&&o(".input_date").datepicker(),0<o(".search-date").length&&o(".search-date").datepicker(),me("homey_month_wrap","homey-next-month",!0,!0),me("homey_month_wrap","homey-prev-month",!1,!0),me("single-listing-calendar-wrap","listing-cal-next",!0,!1),me("single-listing-calendar-wrap","listing-cal-prev",!1,!1),me("single-listing-hourly-calendar-wrap","listing-cal-next",!0,!0),me("single-listing-hourly-calendar-wrap","listing-cal-prev",!1,!0),me("main-search-calendar-wrap","search-cal-next",!0,!1),me("main-search-calendar-wrap","search-cal-prev",!1,!1),me("main-search-hourly-calendar-wrap","search-cal-next",!0,!0),me("main-search-hourly-calendar-wrap","search-cal-prev",!1,!0),o(document).ready(function(){if(o(".search-banner input").on("focus",function(){o(this).prev("label").css("display","block"),o(this).addClass("on-focus")}),o(".search-destination input").on("focus",function(){o(".search-destination .clear-input-btn").css("display","block")}),o(".clear-input-btn, .btn-clear-calendar").on("click",function(e){e.preventDefault(),o(".search-destination label, .search-destination .clear-input-btn").css("display","none"),o(".search-calendar-main").removeClass("depart_active").addClass("arrive_active"),R="arrive",o(".main-search-calendar-wrap ul li").removeClass("in-between to-day from-day selected"),r=i=0,o(".search-destination input").removeClass("on-focus"),o(".search-destination input").val("")}),o(".search-destination input").on("focus",function(){o(".search-calendar").css("display","none"),o(".search-guests-wrap").css("display","none")}),o(".search-guests input").on("focus",function(){o(".single-listing-booking-calendar-js, .search-calendar-main, .search-hourly-calendar-main").css("display","none")}),o(".search-hours-range-js").on("click",function(){o(".search-calendar").css("display","none"),o(".search-guests-wrap").css("display","none")}),o(".btn-clear-calendar").on("click",function(){o(".search-date-range input").val(""),o(".search-date-range label").css("display","none"),o(".search-date-range input").removeClass("on-focus")}),o(".guest-apply-btn .btn").on("click",function(){o(".search-guests-wrap").css("display","none")}),o(".main-search-date-range-js input").on("focus",function(){o(".search-calendar-main").css("display","block"),o(".search-calendar-main").addClass("arrive_active"),o(".search-guests-wrap-js").css("display","none"),R=o(this).attr("name"),o(".search-calendar-main").removeClass("arrive_active depart_active").addClass(R+"_active"),o(".search-hourly-calendar-main").css("display","block")}),o(".search-guests-js input").on("focus",function(){o(this).prev("label").css("display","block"),o(this).addClass("on-focus"),o(".search-guests-wrap-js").css("display","block")}),o(".halfmap-search-date-range-js input").on("focus",function(){o(".search-calendar-main").css("display","block"),o(".search-calendar-main").addClass("arrive_active"),o(".search-guests-wrap-js").css("display","none"),R=o(this).attr("name"),o(".search-calendar-main").removeClass("arrive_active depart_active").addClass(R+"_active"),o(".search-hourly-calendar-main").css("display","block")}),!q){document.querySelector(".search-date-range input");document.addEventListener("click",function(e){e.target.closest(".search-date-range input")||e.target.closest(".search-calendar")||(o(".search-calendar-main").css("display","none"),o(".single-listing-booking-calendar-js").css("display","none"))})}}),ue(),O.on("resize",function(){ue()}),o(".main-search-calendar-wrap ul li").on("click",function(){var e=o(this);if(e.hasClass("day-disabled"))return!1;i+=1;var a=e.data("formatted-date");if(r=e.data("timestamp"),"depart"==R&&n<r&&(o(".main-search-calendar-wrap ul").find("li.to-day").removeClass("selected").siblings().removeClass("to-day in-between"),i=2),1==i)n=r,o(".main-search-calendar-wrap ul li").removeClass("to-day from-day selected in-between"),e.addClass("from-day selected"),o(".search-calendar").removeClass("arrive_active").addClass("depart_active"),o('input[name="arrive"]').val(a).triggerHandler("focus"),o('input[name="depart"]').val("").triggerHandler("focus");else if(2==i){l=r,e.addClass("to-day selected"),o(".search-calendar").removeClass("depart_active").addClass("arrive_active");var t=o('input[name="arrive"]').val();t=ve(t),ve(a)<=t?(n=r,l=0,o(".main-search-calendar-wrap ul li").removeClass("to-day from-day selected in-between"),e.addClass("from-day selected"),o(".search-calendar").removeClass("arrive_active").addClass("depart_active"),o('input[name="arrive"]').val(a),i=1):(ge(n,l),o('input[name="depart"]').val(a),o(".search-calendar").hide(),o(".search-guests-wrap-js").css("display","block"),o('input[name="guest"]').triggerHandler("focus"))}2==i&&(i=0)}),o(".main-search-calendar-wrap ul li").on("hover",function(){var e=o(this).data("timestamp");1==i&&ge(n,e)}),o(".main-search-hourly-calendar-wrap ul li").on("click",function(){var e=o(this);if(e.hasClass("day-disabled"))return!1;var a=e.data("formatted-date");o('input[name="arrive"]').val(a),o(".search-calendar").hide()});function fe(e,a){var t=new Date(e),n=new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()),r=parseFloat(t.getUTCDate())+1+parseFloat(a);return n.setDate(r),n}function ye(e,a){var t,n;t=new Date;var r=o("#"+e);r.datepicker({dateFormat:"mm/dd/yy",minDate:t}),r.change(function(){n=new Date(jQuery("#"+e).val()),1,n=fe(jQuery("#"+e).val(),0),jQuery("#"+a).val(""),jQuery("#"+a).removeAttr("disabled"),jQuery("#"+a).datepicker("destroy"),jQuery("#"+a).datepicker({dateFormat:"mm/dd/yy",minDate:n})})}if(o(".search_adult_plus").on("click",function(e){e.preventDefault(),parseInt(o("#guests").val());var a=parseInt(o(".search_adult_guest").val()),t=parseInt(o(".search_child_guest").val());a++,o(".search_homey_adult").text(a),o(".search_adult_guest").val(a);var n=a+t;o('input[name="guest"]').val(n)}),o(".search_adult_minus").on("click",function(e){e.preventDefault(),parseInt(o("#guests").val());var a=parseInt(o(".search_adult_guest").val()),t=parseInt(o(".search_child_guest").val());if(0!=a){a--,o(".search_homey_adult").text(a),o(".search_adult_guest").val(a);var n=a+t;o('input[name="guest"]').val(n),o(".search_adult_plus").removeAttr("disabled"),o(".search_child_plus").removeAttr("disabled")}}),o(".search_child_plus").on("click",function(e){e.preventDefault(),parseInt(o("#guests").val());var a=parseInt(o(".search_child_guest").val()),t=parseInt(o(".search_adult_guest").val());a++,o(".search_homey_child").text(a),o(".search_child_guest").val(a);var n=a+t;o('input[name="guest"]').val(n)}),o(".search_child_minus").on("click",function(e){e.preventDefault(),parseInt(o("#guests").val());var a=parseInt(o(".search_child_guest").val()),t=parseInt(o(".search_adult_guest").val());if(0!=a){a--,o(".search_homey_child").text(a),o(".search_child_guest").val(a);var n=a+t;o('input[name="guest"]').val(n),o(".search_adult_plus").removeAttr("disabled"),o(".search_child_plus").removeAttr("disabled")}}),o("#sort_listings").on("change",function(){!function(e,a){e=encodeURI(e),a=encodeURI(a);for(var t,n=document.location.search.substr(1).split("&"),r=n.length;r--;)if((t=n[r].split("="))[0]==e){t[1]=a,n[r]=t.join("=");break}r<0&&(n[n.length]=[e,a].join("=")),document.location.search=n.join("&")}("sortby",o(this).val())}),ye("period_start_date","period_end_date"),ye("cus_start_date","cus_end_date"),document.getElementById("location_search")){var _e,be;_e=document.getElementById("location_search");var we={bounds:new google.maps.LatLngBounds(new google.maps.LatLng(-90,-180),new google.maps.LatLng(90,180)),types:["geocode"]};be=new google.maps.places.Autocomplete(_e,we),0!=d&&""!=h&&be.setComponentRestrictions({country:[h]}),google.maps.event.addListener(be,"place_changed",function(){var e=be.getPlace();Ie(e),console.log(e)})}if(document.getElementById("location_search_mobile")){var Ce,ke;Ce=document.getElementById("location_search_mobile");var je={bounds:new google.maps.LatLngBounds(new google.maps.LatLng(-90,-180),new google.maps.LatLng(90,180)),types:["geocode"]};ke=new google.maps.places.Autocomplete(Ce,je),0!=d&&""!=h&&ke.setComponentRestrictions({country:[h]}),google.maps.event.addListener(ke,"place_changed",function(){var e=ke.getPlace();Ie(e),console.log(e)})}if(document.getElementById("location_search_banner")){var xe,He;xe=document.getElementById("location_search_banner");var Qe={bounds:new google.maps.LatLngBounds(new google.maps.LatLng(-90,-180),new google.maps.LatLng(90,180)),types:["geocode"]};He=new google.maps.places.Autocomplete(xe,Qe),0!=d&&""!=h&&He.setComponentRestrictions({country:[h]}),google.maps.event.addListener(He,"place_changed",function(){var e=He.getPlace();Ie(e),console.log(e)})}function Ie(e){var a,t,n,r;for(t=0,o('input[name="search_city"]').val(""),o('input[name="search_area"]').val(""),o('input[name="search_country"]').val(""),a=0;a<e.address_components.length;a++)n=e.address_components[a].types[0],void 0!==(r=e.address_components[a][K[n]])&&(r=(r=r.toLowerCase()).split(" ").join("-")),"neighborhood"===n||"sublocality_level_1"===n?(o('input[name="search_area"]').attr("data-value",r),o('input[name="search_area"]').val(r)):"locality"===n?(o('input[name="search_city"]').attr("data-value",r),o('input[name="search_city"]').val(r),""!==r&&(t=1)):"country"===n&&(o('input[name="search_country"]').attr("data-value",r),o('input[name="search_country"]').val(r));0===t&&function(e,a){var t;t=o(a).filter("span.locality").html(),o('input[name="'+e+'"]').val(t)}("search_city",e.adr_address)}}(jQuery);